"use strict";angular.module("leslieApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("leslieApp").controller("MainCtrl",["$scope","$http",function(a){function b(){this.collection=[]}b.prototype.addMovie=function(a,b,c,d,e,f,g){this.collection.push({meta:{imgPath:b,title:a,year:c,id:d},synop:e,actors:f,awards:g})};var c=new b;c.addMovie("Days of Being Wild","images/days-of-being-wild.jpg",1990,1,"Days of Being Wild (A Fei jingjyuhn) is a 1990 Hong Kong film directed by Wong Kar-wai. The film stars some of the best-known actors and actresses in Hong Kong, including Leslie Cheung, Andy Lau, Maggie Cheung, Carina Lau, Jacky Cheung and Tony Leung Chiu-Wai. Days of Being Wild also marks the first collaboration between Wong and cinematographer Christopher Doyle, with whom he has since made eight films.[2][3] The movie forms the first part of an informal trilogy, together with In the Mood for Love (released in 2000) and 2046 (released in 2004).",["Maggie Cheung","Andy Lau","Carina Lau","Jacky Cheung","Tony Leung Chiu-Wai"],{1991:{"Hong Kong Film Awards":["Best Picture","Best Director, Best Actor (Leslie Cheung), Best Art Direction, Best Cinematography"]},1997:{"Golden Bauhinia Awawrds":["Special Award (Best Hong Kong film of last 10 years"]}}),c.addMovie("A Better Tomorrow","images/a-better-tomorrow.jpg",1986,2,"Mark Goh",["Chow Yun-fat","Leslie Cheung","Ti Lung"],{1985:{"Hong Kong Film Awards":["Best Picture"]}}),c.addMovie("Farewell My Concubine","images/farewell-my-concubine.jpg",1993,3,"Classic, Bawang Bie Ji. Central works of the Fifth generation movement",["Leslie Cheung","Gong Li"],{1992:{"National Board of Review (USA)":["Best Foreign Film"]},1993:{"Cannes Film Festival":["Palme d'OR","FIPRESCI Awawrd for Best Film in Competition"],"Mainichi Film Concours":["Best Foreign Language Film"],"Golden Globe Awards":["Best Foreign Language Film"],"Chinese Performance Art Association":["Special Award - Leslie Cheung"]},1994:{BAFTA:["Best Film not in the English Language"],"Japanese Critics Society":["Best Actor Award for Foreign Movie - Leslie Cheung"]}}),c.addMovie("Viva Erotica","images/viva-erotica.jpg",1996,4,"Shu Qi debuts",["Leslie Cheung","Karen Mok","Shu Qi"],{1997:{"Hong Kong Film Awards":["Best Supporting Actress - Shu Qi","Best New Artist (Shu Qi)"]}}),c.addMovie("Rouge","images/rouge.jpg",1988,5,'Chan Chen-Pang, better known as the "12th Young Master" (played by Leslie Cheung), was a fashionable playboy who frequented the opium dens prevalent in Hong Kong in 1934, where he met the high-class and much sought-after courtesan, Fleur (Anita Mui).',["Leslie Cheung","Anita Mui"],{1988:{"Nantes Three Continents Festival":["Golden Montgolfiere"],"Golden Horse Film Festival":["Best Actress (Anita Mui)"]},1989:{"Asia-Pacific Film Festival":["Best Actress (Anita Mui)"],"Hong Kong Film Awards":["Best Actress (Anita Mui)","Best Director (Stanley Kwan)","Best Film Editing","Best Original Film Score",'Best Original Film Song ("Yin Ji Kau")',"Best Picture"]}}),c.addMovie("A Chinese Ghost Story","images/a-chinese-ghost-story.jpg",1987,6,"is a 1987 Hong Kong romantic comedy horror film starring Leslie Cheung, Joey Wong, and Wu Ma, directed by Ching Siu-tung, and produced by Tsui Hark. The plot was loosely based on a short story from Qing Dynasty writer Pu Songlings Strange Stories from a Chinese Studio (聊齋誌異), and also inspired by the 1960 Shaw Brothers Studio film The Enchanting Shadow. The film was popular in Hong Kong and several Asian countries, including South Korea and Japan when released. Most notably it boosted the stardom of Joey Wong, won Leslie Cheung popularity in Japan, and sparked a trend of folklore ghost films in the Hong Kong film industry, including two sequels, an animated film, a television series and a 2011 remake.",["Leslie Cheung","Joey Wong","Wu Ma"],{1988:{"7Th Hong Kong Film Awards":["Best Art Directin (Kenneth Yee)","Best Original Film Score (Lok Man-tai, James Wong)","Best Original Film Song (James Wong, Sally Yeh)"]}}),a.currentBelt=c.collection[0],a.beltInMotion=!1,a.moviesEnglish=c.collection,a.beltSelectHandler=function(b){console.log(b),a.currentBelt=b},console.log($("#movie-nav-bar").offset().top),$("#movie-nav-bar").affix({offset:{top:$("#movie-nav-bar").offset().top}}),a.beltButtonLeftHandler=function(){a.beltInMotion||(a.beltInMotion=!0,$("#belt-wrapper").animate({left:["-=250","swing"]},1e3,function(){a.beltInMotion=!1,console.log("Left animation complete")}))},a.beltButtonRightHandler=function(){a.beltInMotion||(a.beltInMotion=!0,$("#belt-wrapper").animate({left:["+=250","swing"]},1e3,function(){a.beltInMotion=!1,console.log("Right animation complete")}))}}]),angular.module("leslieApp").directive("scrollSpy",["$window",function(a){return{restrict:"A",controller:["$scope",function(a){a.spies=[],this.addSpy=function(b){return a.spies.push(b)}}],link:function(b){var c={};b.$watch("scope.spies",function(){var a,d,e,f;for(f=[],d=0,e=b.spies.length;e>d;d++)if(a=b.spies[d],!c[a.id]){var g=$.find("#"+a.id)[0],h=$(g);c[a.id]=h}}),$(a).scroll(function(){var d,e,f,g,h,i;for(d=null,i=b.spies,g=0,h=i.length;h>g;g++)f=i[g],f.out(),(e=c[f.id].offset().top)-a.scrollY<=0&&(f.pos=e,null===d&&(d=f),d.pos<f.pos&&(d=f));null!==d?d["in"]():void 0})}}}]),angular.module("leslieApp").directive("spy",function(){return{restrict:"A",require:"^scrollSpy",link:function(a,b,c,d){d.addSpy({id:c.spy,"in":function(){return b.addClass("current")},out:function(){return b.removeClass("current")}})}}});